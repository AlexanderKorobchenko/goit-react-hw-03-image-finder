(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__21A6G",form:"Searchbar_form__2w9_J",input:"Searchbar_input__1SBLO",button:"Searchbar_button__1ZaZK"}},function(e,t,a){e.exports={loader:"Loader_loader__3iZk1",circle:"Loader_circle__Q5Mpx",hop:"Loader_hop__38cZ7"}},,function(e,t,a){e.exports={card:"ImageGalleryItem_card__3u6_M",image:"ImageGalleryItem_image__fgvc3",stats:"ImageGalleryItem_stats__17ojF",item:"ImageGalleryItem_item__1I6cM",icons:"ImageGalleryItem_icons__3Jnjj",bigimg:"ImageGalleryItem_bigimg__Tf7PC"}},,function(e,t,a){e.exports={backdrop:"Modal_backdrop__2u-6V",window:"Modal_window__3QATD"}},function(e,t,a){e.exports={message:"IdleMessage_message__3Q5hq",link:"IdleMessage_link__3hru-"}},function(e,t,a){e.exports={gallery:"ImageGallery_gallery__2apN4"}},,function(e,t,a){e.exports={container:"Container_container__CP-wE"}},function(e,t,a){e.exports={message:"NotFound_message__iMKmQ"}},function(e,t,a){e.exports={button:"Button_button__1kpf7"}},,,,,,function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),s=a.n(c),o=(a(24),a(2)),i=a(3),l=a(6),u=a(5),h=a(16),d=a.n(h),m=a(0);var j=function(e){var t=e.children;return Object(m.jsx)("div",{className:d.a.container,children:t})},p=a(4),b=a.n(p),g=a(19),f=a(7),v=a.n(f),_=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleChange=function(t){e.setState({value:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.value.trim().toLowerCase())},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(m.jsx)("header",{className:v.a.searchbar,children:Object(m.jsxs)("form",{className:v.a.form,onSubmit:this.handleSubmit,children:[Object(m.jsx)("input",{className:v.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images...",onChange:this.handleChange,value:this.state.value}),Object(m.jsx)("button",{type:"submit",className:v.a.button,children:Object(m.jsx)(g.a,{})})]})})}}]),a}(r.a.Component);_.protoType={onSubmit:b.a.func};var O=_,y=a(15),x=a(12),k=a.n(x),w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).escFunction=function(t){27===t.keyCode&&e.props.closeModal()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"render",value:function(){var e=this;return Object(c.createPortal)(Object(m.jsx)("div",{className:k.a.backdrop,onClick:function(t){"IMG"!==t.target.nodeName&&e.props.closeModal()},children:Object(m.jsx)("div",{className:k.a.window,children:this.props.children})}),document.getElementById("modal-root"))}}]),a}(r.a.Component);w.protoType={closeModal:b.a.func};var N=w,I=a(10),S=a.n(I),M=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1},e.openModal=function(t){e.setState({showModal:t.target.dataset.set})},e.closeModal=function(){e.setState({showModal:!1})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsxs)(m.Fragment,{children:[this.props.array.map((function(t){return Object(m.jsx)("li",{className:S.a.card,children:Object(m.jsx)("img",{onClick:e.openModal,className:S.a.image,src:t.webformatURL,alt:t.id,"data-set":t.largeImageURL})},t.id)})),this.state.showModal&&Object(m.jsx)(N,{closeModal:this.closeModal,children:Object(m.jsx)("img",{src:this.state.showModal,alt:"modal_picture",className:S.a.bigimg})})]})}}]),a}(r.a.Component);M.protoType={array:b.a.array};var C=M,V=function(){function e(){Object(o.a)(this,e),this.pageNumber=1,this.inputValue="",this.total=0,this.amount=0}return Object(i.a)(e,[{key:"getData",value:function(){var e=this,t="photo",a="horizontal",n="12",r="22892994-722ced5920981906a643cad7c",c="".concat("https://pixabay.com/api/","?image_type=").concat(t,"&orientation=").concat(a,"&q=").concat(this.inputValue,"&page=").concat(this.pageNumber,"&per_page=").concat(n,"&key=").concat(r);return fetch(c).then((function(e){return e.json()})).then((function(t){return e.pageNumber+=1,e.total=t.totalHits,e.amount+=t.hits.length,t})).catch((function(e){return console.warn(e)}))}},{key:"resetPage",value:function(){this.pageNumber=1}},{key:"resetAmount",value:function(){this.amount=0}},{key:"value",get:function(){return this.inputValue},set:function(e){this.inputValue=e}}]),e}(),T=a(8),F=a.n(T);var L=function(){return Object(m.jsxs)("div",{className:F.a.loader,children:[Object(m.jsx)("div",{className:F.a.circle}),Object(m.jsx)("div",{className:F.a.circle}),Object(m.jsx)("div",{className:F.a.circle})]})},G=a(13),A=a.n(G);var D=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:A.a.message,children:"Start your search"}),Object(m.jsx)("a",{href:"https://alexanderkorobchenko.github.io/my-project_Image-search-engine/",className:A.a.link,children:"This project in VanillaJS"})]})},E=a(17),J=a.n(E);function P(e){var t=e.value;return Object(m.jsxs)("span",{className:J.a.message,children:['Not found "',t,'"']})}P.protoType={value:b.a.string};var B=P,Q=a(18),U=a.n(Q);function Z(e){var t=e.addImages;return Object(m.jsx)("button",{type:"button",className:U.a.button,onClick:function(){return t()},children:"Load more"})}Z.protoType={addImages:b.a.func};var q=Z,H=a(14),K=a.n(H),R=new V,z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={images:[],status:"idle"},e.addImages=function(){e.setState({status:"pending"}),R.getData().then((function(t){e.setState((function(e){return{images:[].concat(Object(y.a)(e.images),Object(y.a)(t.hits)),status:"resolved"}}))})).finally((function(){setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),400)}))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=e.searchValue,r=this.props.searchValue;n!==r&&(this.setState({status:"pending"}),R.value=r,R.resetPage(),R.getData().then((function(e){return 0!==e.hits.length?a.setState({images:e.hits,status:"resolved"}):a.setState({images:e.hits,status:"rejected"})})))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status,n=this.props.searchValue;return"idle"===a?Object(m.jsx)(D,{}):"pending"===a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:K.a.gallery,children:Object(m.jsx)(C,{array:t})}),Object(m.jsx)(L,{}),";"]}):"rejected"===a?Object(m.jsx)(B,{value:n}):"resolved"===a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:K.a.gallery,children:Object(m.jsx)(C,{array:t})}),Object(m.jsx)(q,{addImages:this.addImages})]}):void 0}}]),a}(r.a.Component);z.protoType={searchValue:b.a.string};var W=z,X=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchValue:""},e.changeSearchValue=function(t){e.setState({searchValue:t})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(m.jsxs)(j,{children:[Object(m.jsx)(O,{onSubmit:this.changeSearchValue}),Object(m.jsx)(W,{searchValue:this.state.searchValue})]})}}]),a}(r.a.Component),Y=X;s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(Y,{})}),document.getElementById("root"))}],[[28,1,2]]]);
//# sourceMappingURL=main.0cc7e29f.chunk.js.map