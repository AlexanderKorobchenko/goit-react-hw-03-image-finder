{"version":3,"sources":["Components/Searchbar/Searchbar.module.css","Components/Loader/Loader.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Container/Container.module.css","Components/IdleMessage/IdleMessage.module.css","Components/NotFound/NotFound.module.css","Components/Button/Button.module.css","Components/Container/Container.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","services/apiService.js","Components/Loader/Loader.js","Components/IdleMessage/IdleMessage.js","Components/NotFound/NotFound.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Container","children","className","s","container","Searchbar","state","value","handleChange","event","setState","currentTarget","handleSubmit","preventDefault","props","onSubmit","trim","toLowerCase","searchbar","form","this","input","type","autoComplete","autoFocus","placeholder","onChange","button","React","Component","ImageGalleryItem","array","map","element","card","image","src","webformatURL","alt","id","data","largeImageURL","PictureAPIServise","pageNumber","inputValue","total","amount","image_type","orientation","per_page","key","BASE_URL","fetch","then","response","json","result","totalHits","hits","length","catch","error","console","warn","newInputValue","Loader","loader","circle","IdleMessage","message","NotFound","Button","addImages","onClick","newRequestAPI","RequestAPI","ImageGallery","images","status","getData","prevState","prevProps","prevName","searchValue","nextName","resetPage","gallery","App","changeSearchValue","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2IACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,MAAQ,yBAAyB,OAAS,4B,gBCApID,EAAOC,QAAU,CAAC,OAAS,uBAAuB,OAAS,uBAAuB,IAAM,sB,iBCAxFD,EAAOC,QAAU,CAAC,KAAO,+BAA+B,MAAQ,gCAAgC,MAAQ,gCAAgC,KAAO,+BAA+B,MAAQ,kC,gBCAtLD,EAAOC,QAAU,CAAC,QAAU,gC,kBCA5BD,EAAOC,QAAU,CAAC,UAAY,+B,gBCA9BD,EAAOC,QAAU,CAAC,QAAU,+B,gBCA5BD,EAAOC,QAAU,CAAC,QAAU,4B,gBCA5BD,EAAOC,QAAU,CAAC,OAAS,yB,6JCKZC,MAJf,YAAkC,IAAbC,EAAY,EAAZA,SACnB,OAAO,qBAAKC,UAAWC,IAAEC,UAAlB,SAA8BH,K,wBCCjCI,E,4MACJC,MAAQ,CACNC,MAAO,I,EAGTC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,MAAOE,EAAME,cAAcJ,S,EAG7CK,aAAe,SAAAH,GACbA,EAAMI,iBAEN,EAAKC,MAAMC,SAAS,EAAKT,MAAMC,MAAMS,OAAOC,gB,4CAG9C,WACE,OACE,wBAAQf,UAAWC,IAAEe,UAArB,SACE,uBAAMhB,UAAWC,IAAEgB,KAAMJ,SAAUK,KAAKR,aAAxC,UACE,uBACEV,UAAWC,IAAEkB,MACbC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,mBACZC,SAAUN,KAAKZ,aACfD,MAAOa,KAAKd,MAAMC,QAGpB,wBAAQe,KAAK,SAASpB,UAAWC,IAAEwB,OAAnC,SACE,cAAC,IAAD,e,GA9BYC,IAAMC,WAsCfxB,I,wBCHAyB,MArCf,YAAsC,IAAVC,EAAS,EAATA,MAC1B,OACE,mCACGA,EAAMC,KAAI,SAAAC,GACT,OACE,oBAAI/B,UAAWC,IAAE+B,KAAjB,SACE,qBACEhC,UAAWC,IAAEgC,MACbC,IAAKH,EAAQI,aACbC,IAAKL,EAAQM,GACbC,KAAMP,EAAQQ,iBALUR,EAAQM,UCPzBG,E,WACnB,aAAe,oBACbtB,KAAKuB,WAAa,EAClBvB,KAAKwB,WAAa,GAClBxB,KAAKyB,MAAQ,EACbzB,KAAK0B,OAAS,E,2CAGhB,WAAW,IAAD,OACSC,EAEH,QAFeC,EAGd,aAH2BC,EAI9B,KAJwCC,EAK7C,qCAGDC,EAAQ,UAPH,2BAOG,uBAA4BJ,EAA5B,wBAAsDC,EAAtD,cAAuE5B,KAAKwB,WAA5E,iBAA+FxB,KAAKuB,WAApG,qBAA2HM,EAA3H,gBAA2IC,GAEzJ,OAAOE,MAAMD,GACVE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAKJ,OAJA,EAAKb,YAAc,EACnB,EAAKE,MAAQW,EAAOC,UACpB,EAAKX,QAAUU,EAAOE,KAAKC,OAEpBH,KAERI,OAAM,SAAAC,GAAK,OAAIC,QAAQC,KAAKF,Q,uBAGjC,WACEzC,KAAKuB,WAAa,I,yBAGpB,WACEvB,KAAK0B,OAAS,I,iBAGhB,WACE,OAAO1B,KAAKwB,Y,IAGd,SAAUoB,GACR5C,KAAKwB,WAAaoB,M,qBChCPC,MAVf,WACE,OACE,sBAAK/D,UAAWC,IAAE+D,OAAlB,UACE,qBAAKhE,UAAWC,IAAEgE,SAClB,qBAAKjE,UAAWC,IAAEgE,SAClB,qBAAKjE,UAAWC,IAAEgE,a,iBCDTC,MAJf,WACE,OAAO,sBAAMlE,UAAWC,IAAEkE,QAAnB,gC,iBCGMC,MAJf,YAA8B,IAAV/D,EAAS,EAATA,MAClB,OAAO,uBAAML,UAAWC,IAAEkE,QAAnB,wBAAwC9D,EAAxC,Q,iBCOMgE,MARf,YAAgC,IAAdC,EAAa,EAAbA,UAChB,OACE,wBAAQlD,KAAK,SAASpB,UAAWC,IAAEwB,OAAQ8C,QAAS,kBAAMD,KAA1D,wB,iBCKEE,EAAgB,IAAIC,EAEpBC,E,4MACJtE,MAAQ,CACNuE,OAAQ,GACRC,OAAQ,Q,EAsBVN,UAAY,WACV,EAAK9D,SAAS,CAAEoE,OAAQ,YAExBJ,EAAcK,UAAU1B,MAAK,SAAAG,GAC3B,OAAO,EAAK9C,UAAS,SAAAsE,GACnB,MAAO,CACLH,OAAO,GAAD,mBAAMG,EAAUH,QAAhB,YAA2BrB,EAAOE,OACxCoB,OAAQ,mB,wDA1BhB,SAAmBG,EAAWD,GAAY,IAAD,OACjCE,EAAWD,EAAUE,YACrBC,EAAWhE,KAAKN,MAAMqE,YAExBD,IAAaE,IACfhE,KAAKV,SAAS,CAAEoE,OAAQ,YAExBJ,EAAcnE,MAAQ6E,EACtBV,EAAcW,YACdX,EAAcK,UAAU1B,MAAK,SAAAG,GAC3B,OAA2B,IAAvBA,EAAOE,KAAKC,OACP,EAAKjD,SAAS,CAAEmE,OAAQrB,EAAOE,KAAMoB,OAAQ,aAG/C,EAAKpE,SAAS,CAAEmE,OAAQrB,EAAOE,KAAMoB,OAAQ,mB,oBAuB1D,WACE,MAA2B1D,KAAKd,MAAxBuE,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,OACRK,EAAgB/D,KAAKN,MAArBqE,YAER,MAAe,SAAXL,EACK,cAAC,EAAD,IAGM,YAAXA,EAEA,qCACE,oBAAI5E,UAAWC,IAAEmF,QAAjB,SACE,cAAC,EAAD,CAAkBvD,MAAO8C,MAE3B,cAAC,EAAD,IAJF,OASW,aAAXC,EACK,cAAC,EAAD,CAAUvE,MAAO4E,IAGX,aAAXL,EAEA,qCACE,oBAAI5E,UAAWC,IAAEmF,QAAjB,SACE,cAAC,EAAD,CAAkBvD,MAAO8C,MAE3B,cAAC,EAAD,CAAQL,UAAWpD,KAAKoD,oBAN9B,M,GAlEuB5C,IAAMC,WA+ElB+C,ICnFTW,E,4MACJjF,MAAQ,CACN6E,YAAa,I,EAGfK,kBAAoB,SAAAjF,GAClB,EAAKG,SAAS,CAAEyE,YAAa5E,K,4CAG/B,WACE,OACE,eAAC,EAAD,WACE,cAAC,EAAD,CAAWQ,SAAUK,KAAKoE,oBAC1B,cAAC,EAAD,CAAcL,YAAa/D,KAAKd,MAAM6E,qB,GAb5BvD,IAAMC,WAmBT0D,ICrBfE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.2901dfe7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__21A6G\",\"form\":\"Searchbar_form__2w9_J\",\"input\":\"Searchbar_input__1SBLO\",\"button\":\"Searchbar_button__1ZaZK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3iZk1\",\"circle\":\"Loader_circle__Q5Mpx\",\"hop\":\"Loader_hop__38cZ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ImageGalleryItem_card__3u6_M\",\"image\":\"ImageGalleryItem_image__fgvc3\",\"stats\":\"ImageGalleryItem_stats__17ojF\",\"item\":\"ImageGalleryItem_item__1I6cM\",\"icons\":\"ImageGalleryItem_icons__3Jnjj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__2apN4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__CP-wE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"IdleMessage_message__3Q5hq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"NotFound_message__iMKmQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1kpf7\"};","import s from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nexport default Container;\n","import React from 'react';\nimport { ImSearch } from 'react-icons/im';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends React.Component {\n  state = {\n    value: '',\n  };\n\n  handleChange = event => {\n    this.setState({ value: event.currentTarget.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    this.props.onSubmit(this.state.value.trim().toLowerCase());\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={this.handleSubmit}>\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images...\"\n            onChange={this.handleChange}\n            value={this.state.value}\n          />\n\n          <button type=\"submit\" className={s.button}>\n            <ImSearch />\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ array }) {\n  return (\n    <>\n      {array.map(element => {\n        return (\n          <li className={s.card} key={element.id}>\n            <img\n              className={s.image}\n              src={element.webformatURL}\n              alt={element.id}\n              data={element.largeImageURL}\n            />\n            {/* <div className={s.stats}>\n              <p className={s.item}>\n                <i className={s.icons}>thumb_up</i>\n                {element.likes}\n              </p>\n              <p className={s.item}>\n                <i className={s.icons}>visibility</i>\n                {element.views}\n              </p>\n              <p className={s.item}>\n                <i className={s.icons}>comment</i>\n                {element.comments}\n              </p>\n              <p className={s.item}>\n                <i className={s.icons}>cloud_download</i>\n                {element.downloads}\n              </p>\n            </div> */}\n          </li>\n        );\n      })}\n    </>\n  );\n}\n\nexport default ImageGalleryItem;\n","export default class PictureAPIServise {\n  constructor() {\n    this.pageNumber = 1;\n    this.inputValue = '';\n    this.total = 0;\n    this.amount = 0;\n  }\n\n  getData() {\n    const { baseURL, image_type, orientation, per_page, key } = {\n      baseURL: 'https://pixabay.com/api/',\n      image_type: 'photo',\n      orientation: 'horizontal',\n      per_page: '12',\n      key: '22892994-722ced5920981906a643cad7c',\n    };\n\n    const BASE_URL = `${baseURL}?image_type=${image_type}&orientation=${orientation}&q=${this.inputValue}&page=${this.pageNumber}&per_page=${per_page}&key=${key}`;\n\n    return fetch(BASE_URL)\n      .then(response => response.json())\n      .then(result => {\n        this.pageNumber += 1;\n        this.total = result.totalHits;\n        this.amount += result.hits.length;\n\n        return result;\n      })\n      .catch(error => console.warn(error));\n  }\n\n  resetPage() {\n    this.pageNumber = 1;\n  }\n\n  resetAmount() {\n    this.amount = 0;\n  }\n\n  get value() {\n    return this.inputValue;\n  }\n\n  set value(newInputValue) {\n    this.inputValue = newInputValue;\n  }\n}\n","import s from './Loader.module.css';\n\nfunction Loader() {\n  return (\n    <div className={s.loader}>\n      <div className={s.circle}></div>\n      <div className={s.circle}></div>\n      <div className={s.circle}></div>\n    </div>\n  );\n}\n\nexport default Loader;\n","import s from './IdleMessage.module.css';\n\nfunction IdleMessage() {\n  return <span className={s.message}>Start your search</span>;\n}\n\nexport default IdleMessage;\n","import s from './NotFound.module.css';\n\nfunction NotFound({ value }) {\n  return <span className={s.message}>Not found \"{value}\"</span>;\n}\n\nexport default NotFound;\n","import s from './Button.module.css';\n\nfunction Button({ addImages }) {\n  return (\n    <button type=\"button\" className={s.button} onClick={() => addImages()}>\n      Load more\n    </button>\n  );\n}\n\nexport default Button;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport RequestAPI from '../../services/apiService';\nimport Loader from '../Loader';\nimport IdleMessage from '../IdleMessage/';\nimport NotFound from '../NotFound';\nimport Button from '../Button';\nimport s from './ImageGallery.module.css';\n\nconst newRequestAPI = new RequestAPI();\n\nclass ImageGallery extends React.Component {\n  state = {\n    images: [],\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.searchValue;\n    const nextName = this.props.searchValue;\n\n    if (prevName !== nextName) {\n      this.setState({ status: 'pending' });\n\n      newRequestAPI.value = nextName;\n      newRequestAPI.resetPage();\n      newRequestAPI.getData().then(result => {\n        if (result.hits.length !== 0) {\n          return this.setState({ images: result.hits, status: 'resolved' });\n        }\n\n        return this.setState({ images: result.hits, status: 'rejected' });\n      });\n    }\n  }\n\n  addImages = () => {\n    this.setState({ status: 'pending' });\n\n    newRequestAPI.getData().then(result => {\n      return this.setState(prevState => {\n        return {\n          images: [...prevState.images, ...result.hits],\n          status: 'resolved',\n        };\n      });\n    });\n\n    // window.scrollTo({\n    //   top: document.documentElement.scrollHeight,\n    //   behavior: 'smooth',\n    // });\n  };\n\n  render() {\n    const { images, status } = this.state;\n    const { searchValue } = this.props;\n\n    if (status === 'idle') {\n      return <IdleMessage />;\n    }\n\n    if (status === 'pending') {\n      return (\n        <>\n          <ul className={s.gallery}>\n            <ImageGalleryItem array={images} />\n          </ul>\n          <Loader />;\n        </>\n      );\n    }\n\n    if (status === 'rejected') {\n      return <NotFound value={searchValue} />;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ul className={s.gallery}>\n            <ImageGalleryItem array={images} />\n          </ul>\n          <Button addImages={this.addImages} />\n        </>\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n","import React from 'react';\nimport Container from './Components/Container';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\n// import ImageGalleryItem from './Components/ImageGalleryItem';\n//import './App.css';\n\nclass App extends React.Component {\n  state = {\n    searchValue: '',\n  };\n\n  changeSearchValue = value => {\n    this.setState({ searchValue: value });\n  };\n\n  render() {\n    return (\n      <Container>\n        <Searchbar onSubmit={this.changeSearchValue} />\n        <ImageGallery searchValue={this.state.searchValue} />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}