{"version":3,"sources":["Components/Searchbar/Searchbar.module.css","Components/Loader/Loader.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/IdleMessage/IdleMessage.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Container/Container.module.css","Components/NotFound/NotFound.module.css","Components/Button/Button.module.css","Components/Container/Container.js","Components/Searchbar/Searchbar.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","services/apiService.js","Components/Loader/Loader.js","Components/IdleMessage/IdleMessage.js","Components/NotFound/NotFound.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Container","children","className","s","container","Searchbar","state","value","handleChange","event","setState","currentTarget","handleSubmit","preventDefault","props","onSubmit","trim","toLowerCase","searchbar","form","this","input","type","autoComplete","autoFocus","placeholder","onChange","button","React","Component","protoType","PropTypes","func","Modal","escFunction","e","keyCode","closeModal","document","addEventListener","removeEventListener","createPortal","backdrop","onClick","target","nodeName","window","getElementById","ImageGalleryItem","showModal","openModal","dataset","set","array","map","element","card","image","src","webformatURL","alt","id","largeImageURL","bigimg","PictureAPIServise","pageNumber","inputValue","total","amount","image_type","orientation","per_page","key","BASE_URL","fetch","then","response","json","result","totalHits","hits","length","catch","error","console","warn","newInputValue","Loader","loader","circle","IdleMessage","message","href","link","NotFound","string","Button","addImages","newRequestAPI","RequestAPI","ImageGallery","images","status","getData","scrollTo","top","documentElement","scrollHeight","behavior","prevState","prevProps","prevName","searchValue","nextName","resetPage","gallery","App","changeSearchValue","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.cb5bcd03.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__21A6G\",\"form\":\"Searchbar_form__2w9_J\",\"input\":\"Searchbar_input__1SBLO\",\"button\":\"Searchbar_button__1ZaZK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3iZk1\",\"circle\":\"Loader_circle__Q5Mpx\",\"hop\":\"Loader_hop__38cZ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ImageGalleryItem_card__3u6_M\",\"image\":\"ImageGalleryItem_image__fgvc3\",\"stats\":\"ImageGalleryItem_stats__17ojF\",\"item\":\"ImageGalleryItem_item__1I6cM\",\"icons\":\"ImageGalleryItem_icons__3Jnjj\",\"bigimg\":\"ImageGalleryItem_bigimg__Tf7PC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2u-6V\",\"window\":\"Modal_window__3QATD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"IdleMessage_message__3Q5hq\",\"link\":\"IdleMessage_link__3hru-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__2apN4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__CP-wE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"NotFound_message__iMKmQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1kpf7\"};","import s from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ImSearch } from 'react-icons/im';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends React.Component {\n  state = {\n    value: '',\n  };\n\n  handleChange = event => {\n    this.setState({ value: event.currentTarget.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    this.props.onSubmit(this.state.value.trim().toLowerCase());\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={this.handleSubmit}>\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images...\"\n            onChange={this.handleChange}\n            value={this.state.value}\n          />\n\n          <button type=\"submit\" className={s.button}>\n            <ImSearch />\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.protoType = {\n  onSubmit: PropTypes.func,\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    document.addEventListener('keydown', this.escFunction, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.escFunction, false);\n  }\n\n  escFunction = e => {\n    if (e.keyCode === 27) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div\n        className={s.backdrop}\n        onClick={e => {\n          if (e.target.nodeName === 'IMG') {\n            return;\n          }\n\n          this.props.closeModal();\n        }}\n      >\n        <div className={s.window}>{this.props.children}</div>\n      </div>,\n      document.getElementById('modal-root'),\n    );\n  }\n}\n\nModal.protoType = {\n  closeModal: PropTypes.func,\n};\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../Modal';\nimport s from './ImageGalleryItem.module.css';\n\nclass ImageGalleryItem extends React.Component {\n  state = {\n    showModal: false,\n  };\n\n  openModal = e => {\n    this.setState({ showModal: e.target.dataset.set });\n  };\n\n  closeModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.array.map(element => {\n          return (\n            <li className={s.card} key={element.id}>\n              <img\n                onClick={this.openModal}\n                className={s.image}\n                src={element.webformatURL}\n                alt={element.id}\n                data-set={element.largeImageURL}\n              />\n              {/* <div className={s.stats}>\n                <p className={s.item}>\n                  <i className={s.icons}>thumb_up</i>\n                  {element.likes}\n                </p>\n                <p className={s.item}>\n                  <i className={s.icons}>visibility</i>\n                  {element.views}\n                </p>\n                <p className={s.item}>\n                  <i className={s.icons}>comment</i>\n                  {element.comments}\n                </p>\n                <p className={s.item}>\n                  <i className={s.icons}>cloud_download</i>\n                  {element.downloads}\n                </p>\n              </div> */}\n            </li>\n          );\n        })}\n        {this.state.showModal && (\n          <Modal closeModal={this.closeModal}>\n            <img\n              src={this.state.showModal}\n              alt=\"modal_picture\"\n              className={s.bigimg}\n            />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nImageGalleryItem.protoType = {\n  array: PropTypes.array,\n};\n\nexport default ImageGalleryItem;\n","export default class PictureAPIServise {\n  constructor() {\n    this.pageNumber = 1;\n    this.inputValue = '';\n    this.total = 0;\n    this.amount = 0;\n  }\n\n  getData() {\n    const { baseURL, image_type, orientation, per_page, key } = {\n      baseURL: 'https://pixabay.com/api/',\n      image_type: 'photo',\n      orientation: 'horizontal',\n      per_page: '12',\n      key: '22892994-722ced5920981906a643cad7c',\n    };\n\n    const BASE_URL = `${baseURL}?image_type=${image_type}&orientation=${orientation}&q=${this.inputValue}&page=${this.pageNumber}&per_page=${per_page}&key=${key}`;\n\n    return fetch(BASE_URL)\n      .then(response => response.json())\n      .then(result => {\n        this.pageNumber += 1;\n        this.total = result.totalHits;\n        this.amount += result.hits.length;\n\n        return result;\n      })\n      .catch(error => console.warn(error));\n  }\n\n  resetPage() {\n    this.pageNumber = 1;\n  }\n\n  resetAmount() {\n    this.amount = 0;\n  }\n\n  get value() {\n    return this.inputValue;\n  }\n\n  set value(newInputValue) {\n    this.inputValue = newInputValue;\n  }\n}\n","import s from './Loader.module.css';\n\nfunction Loader() {\n  return (\n    <div className={s.loader}>\n      <div className={s.circle}></div>\n      <div className={s.circle}></div>\n      <div className={s.circle}></div>\n    </div>\n  );\n}\n\nexport default Loader;\n","import s from './IdleMessage.module.css';\n\nfunction IdleMessage() {\n  return (\n    <>\n      <span className={s.message}>Start your search</span>\n      <a\n        href=\"https://alexanderkorobchenko.github.io/my-project_Image-search-engine/\"\n        className={s.link}\n      >\n        This project in VanillaJS\n      </a>\n    </>\n  );\n}\n\nexport default IdleMessage;\n","import PropTypes from 'prop-types';\nimport s from './NotFound.module.css';\n\nfunction NotFound({ value }) {\n  return <span className={s.message}>Not found \"{value}\"</span>;\n}\n\nNotFound.protoType = {\n  value: PropTypes.string,\n};\n\nexport default NotFound;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ addImages }) {\n  return (\n    <button type=\"button\" className={s.button} onClick={() => addImages()}>\n      Load more\n    </button>\n  );\n}\n\nButton.protoType = {\n  addImages: PropTypes.func,\n};\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport RequestAPI from '../../services/apiService';\nimport Loader from '../Loader';\nimport IdleMessage from '../IdleMessage/';\nimport NotFound from '../NotFound';\nimport Button from '../Button';\nimport s from './ImageGallery.module.css';\n\nconst newRequestAPI = new RequestAPI();\n\nclass ImageGallery extends React.Component {\n  state = {\n    images: [],\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.searchValue;\n    const nextName = this.props.searchValue;\n\n    if (prevName !== nextName) {\n      this.setState({ status: 'pending' });\n\n      newRequestAPI.value = nextName;\n      newRequestAPI.resetPage();\n      newRequestAPI.getData().then(result => {\n        if (result.hits.length !== 0) {\n          return this.setState({ images: result.hits, status: 'resolved' });\n        }\n\n        return this.setState({ images: result.hits, status: 'rejected' });\n      });\n    }\n  }\n\n  addImages = () => {\n    this.setState({ status: 'pending' });\n\n    newRequestAPI.getData().then(result => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n      return this.setState(prevState => {\n        return {\n          images: [...prevState.images, ...result.hits],\n          status: 'resolved',\n        };\n      });\n    });\n    // .finally(() => {\n    //   window.scrollTo({\n    //     top: document.documentElement.scrollHeight,\n    //     behavior: 'smooth',\n    //   });\n    // });\n  };\n\n  render() {\n    const { images, status } = this.state;\n    const { searchValue } = this.props;\n\n    if (status === 'idle') {\n      return <IdleMessage />;\n    }\n\n    if (status === 'pending') {\n      return (\n        <>\n          <ul className={s.gallery}>\n            <ImageGalleryItem array={images} />\n          </ul>\n          <Loader />;\n        </>\n      );\n    }\n\n    if (status === 'rejected') {\n      return <NotFound value={searchValue} />;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ul className={s.gallery}>\n            <ImageGalleryItem array={images} />\n          </ul>\n          <Button addImages={this.addImages} />\n        </>\n      );\n    }\n  }\n}\n\nImageGallery.protoType = {\n  searchValue: PropTypes.string,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport Container from './Components/Container';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\n\nclass App extends React.Component {\n  state = {\n    searchValue: '',\n  };\n\n  changeSearchValue = value => {\n    this.setState({ searchValue: value });\n  };\n\n  render() {\n    return (\n      <Container>\n        <Searchbar onSubmit={this.changeSearchValue} />\n        <ImageGallery searchValue={this.state.searchValue} />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}